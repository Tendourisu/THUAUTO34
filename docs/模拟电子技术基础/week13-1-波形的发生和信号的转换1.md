---
title: week13-1-波形的发生和信号的转换1
tags:
  - 模拟电子基础
categories: 
date: 2025-05-20T19:56:14+08:00
modify: 2025-05-20T19:56:14+08:00
dir: 
share: false
cdate: 2025-05-20T19
mdate: 2025-05-20T19
---
## week13-1-波形的发生和信号的转换1

### 7.1 电压比较器 (Comparator)

#### 一、集成运放的非线性工作区 

- **工作条件**: 开环或者只引入正反馈。
    
- **特点**:
    
    - 当 uP​>uN​ 时，uO​=+UOM​ (输出高电平饱和值)
        
    - 当 uP​<uN​ 时，uO​=−UOM​ (输出低电平饱和值)
        
    - 输入端电流 iP​=iN​≈0 (虚断仍然近似成立)
        
    - **注意**: "虚短" 在非线性区不成立。
        

#### 二、电压比较器的传输特性及种类 

- **传输特性**: uO​=f(uI​)，描述输出电压 uO​ 随输入电压 uI​ 变化的函数关系。
    
- **传输特性三要素**:
    
    1. **输出比较结果**: UOH​ (高电平)，UOL​ (低电平)。
        
    2. **阈值电压** UT​: 使输出电压发生跃变的输入电压值。
        
    3. **跃变方向**: 当输入电压 uI​ 经过 UT​ 时，uO​ 的跃变方向。
        
- **种类**:
    
    - **单限比较器**: 只有一个阈值电压。
        
    - **滞回比较器 (施密特触发器)**: 有两个不同的阈值电压，分别对应输入电压增大和减小时的翻转点，形成回差特性。
        
    - **窗口比较器**: 有两个阈值电压，用于检测输入电压是否在某个范围内。
        

#### 三、单限电压比较器

1. **过零比较器 (Page 22)**:
    
    - **电路**: 运放一个输入端接地，另一个输入端接 uI​。
        
    - **分析 (反相输入为例)**:
        
        - uP​=0 (同相端接地)
            
        - 当 uI​>0 (uN​>uP​) 时，uO​=−UOM​ (或 UOL​)
            
        - 当 uI​<0 (uN​<uP​) 时，uO​=+UOM​ (或 UOH​)
            
        - **阈值电压** UT​=0。
            
        - **跃变**: uI​ 从负到正经过0时，uO​ 从 +UOM​ 跃变到 −UOM​。
            
    - **传输特性**:
        
        ```
        u_O
        ^
        |  +U_OM ______
        |        |
        +--------|--------> u_I
                | |
        -U_OM ______|
        ```
        
2. **输入级的保护电路 (Page 23)**:
    
    - 为防止输入电压过大损坏运放，可在输入端串联限流电阻，并并联反向并联的二极管到地，或使用稳压二极管。
        
3. **输出限幅电路 (Page 23)**:
    
    - 在运放输出端通过电阻连接一对反向串联的稳压二极管到地，可以将输出电压限制在 ±UZ​ (稳压管的稳定电压)。
        
4. **一般单限比较器 (Page 24)**:
    
    - **电路**: 一个输入端接 uI​，另一个输入端接参考电压 UREF​ (可由电阻分压得到)。输出端可接限幅电路。
        
    - **分析 (反相输入** uI​**，同相输入** UREF​ **为例)**:
        
        - uN​=uI​  
            
        - uP​=UREF​ (如果 UREF​ 是通过 R1​,R2​ 从电源分压得到，则 UREF​ 是固定值)
            
        - **阈值电压** UT​=UREF​  
            
        - 当 uI​<UREF​ 时，uO​=+UZ​ (或 UOH​)
            
        - 当 uI​>UREF​ 时，uO​=−UZ​ (或 UOL​)
            
    - **传输特性 (假设** UREF​>0**)**:
        
        ```
        u_O
        ^  +U_Z ______
        |        |
        +--------|-- U_T --+-----> u_I
                |   |
        -U_Z ______|
        ```
        
    - **分析三要素方法**:
        
        1. 求出 UOH​,UOL​ (主要分析限幅电路)。
            
        2. 利用“虚断”分别求出 u+​,u−​，令 u+​=u−​ (这是找阈值的临界条件，不是说运放工作在线性区)，求出 UT​。
            
        3. 分析当 uI​>UT​ 和 uI​<UT​ 时 uO​ 的值，从而确定传输特性方向。
            

#### 四、滞回比较器 (Schmitt Trigger) 

- **特点**: 引入正反馈，形成回差特性，具有抗干扰能力。有两个不同的阈值电压 UT1​ 和 UT2​。
    
- **反相输入滞回比较器 (Page 25, 26)**:
    
    - **电路**: 输入信号 uI​ 加到反相输入端，同相输入端通过电阻 R1​ 接地，并通过电阻 R2​ 从输出端 uO​ 反馈。输出有限幅电路 ±UZ​。
        
    - **阈值电压**:
        
        - 当 uO​=+UZ​ 时，同相端电压 u+​=R1​+R2​R1​​(+UZ​)=+UT1​ (或记为 +UT​)。此时 uI​ 必须上升到大于 +UT1​ 才能使 uO​ 翻转为 −UZ​。
            
        - 当 uO​=−UZ​ 时，同相端电压 u+​=R1​+R2​R1​​(−UZ​)=−UT2​ (或记为 −UT​)。此时 uI​ 必须下降到小于 −UT2​ 才能使 uO​ 翻转为 +UZ​。
            
        - 通常 ∣+UT1​∣=∣−UT2​∣=UT​=R1​+R2​R1​​UZ​。
            
    - **工作过程**:
        
        - 假设初始 uO​=+UZ​，u+​=+UT​。当 uI​ 从小增大，若 uI​<+UT​，则 uN​<uP​ (这里 uP​=u+​)，uO​ 保持 +UZ​。当 uI​ 增大到超过 +UT​ 时，uN​>uP​，uO​ 迅速翻转为 −UZ​。
            
        - 此时 uO​=−UZ​，u+​=−UT​。当 uI​ 从大减小，若 uI​>−UT​，则 uN​>uP​，uO​ 保持 −UZ​。当 uI​ 减小到低于 −UT​ 时，uN​<uP​，uO​ 迅速翻转为 +UZ​。
            
    - **回差电压 (滞回宽度)**: ΔUT​=(+UT​)−(−UT​)=2UT​=R1​+R2​2R1​​UZ​。
        
    - **传输特性 (Page 26)**:
        
        ```
              u_O
               ^  +U_Z ------>|
               |       |       |
        <------|-------|------> u_I
        -U_T   |       |   +U_T
               |<------|---- -U_Z
        (箭头表示u_I变化方向和u_O的路径)
        ```
        
- **讨论1: 使电压传输特性左右移动 (Page 27)**:
    
    - 在反相输入滞回比较器的基础上，将同相端电阻 R1​ 的接地端改为连接一个参考电压 UREF​。
        
    - 此时阈值电压变为: UT1,2​=R1​+R2​R2​UREF​±R1​UZ​​ (具体符号取决于 UREF​ 和 UZ​ 的极性及 uO​ 的状态)。
        
- **讨论2: 同相输入滞回比较器 (Page 27)**:
    
    - **电路**: 输入信号 uI​ 加到同相输入端，反相输入端接地（或接参考电压）。正反馈从输出端通过电阻 R2​ 到同相输入端，同相输入端还通过 R1​ 接地（或参考电压）。
        
    - **阈值电压 (若反相端接地，输出** ±UZ​**)**:
        
        - 当 uO​=+UZ​ 时，要使 uO​ 翻转为 −UZ​，uI​ 需下降到 UT1​=−R2​R1​​UZ​。
            
        - 当 uO​=−UZ​ 时，要使 uO​ 翻转为 +UZ​，uI​ 需上升到 UT2​=+R2​R1​​UZ​。
            
    - **传输特性**:
        
        ```
              u_O
               ^  +U_Z ------>|
               |       ^       |
        <------|-------|------> u_I
        -U_T   |       |   +U_T
               |       v<------|---- -U_Z
        (箭头表示u_I变化方向和u_O的路径)
        ```
        

#### 五、窗口比较器 

- **功能**: 检测输入电压 uI​ 是否在两个参考电压 URL​ (低参考) 和 URH​ (高参考) 所确定的“窗口”范围内。通常 URH​>URL​。
    
- **电路组成**: 通常由两个单限比较器和一个逻辑门 (如或门或与门，取决于所需输出逻辑) 组成。
    
- **分析 (Page 28 电路，输出通过二极管或门连接到上拉电阻** R2​ **和稳压管** DZ​**)**:
    
    - 比较器 A1​: uI​ 接同相端，URH​ 接反相端。当 uI​>URH​ 时，uO1​ 为高电平 (如 +UOM​)，D1​ 导通。
        
    - 比较器 A2​: uI​ 接反相端，URL​ 接同相端。当 uI​<URL​ 时，uO2​ 为高电平 (如 +UOM​)，D2​ 导通。
        
    - **输出逻辑**:
        
        - 当 uI​<URL​ 时: A1​ 输出低 (如 −UOM​)，D1​ 截止。A2​ 输出高，D2​ 导通，使得 uO​=+UZ​ (或 UOH​)。
            
        - 当 URL​<uI​<URH​ 时: A1​ 输出低，D1​ 截止。A2​ 输出低 (如 −UOM​)，D2​ 截止。此时 uO​ 由 R2​ 和 DZ​ 决定，若无电流通路则 uO​=0 (或 UOL​)。
            
        - 当 uI​>URH​ 时: A1​ 输出高，D1​ 导通。A2​ 输出低，D2​ 截止。使得 uO​=+UZ​ (或 UOH​)。
            
    - **传输特性 (Page 28)**:
        
        ```
        u_O
        ^  U_OH ______      ______
        |        |      |
        +-- U_OL --|------|--------> u_I
                 U_RL   U_RH
        (表示 u_I 在窗口外时输出高，在窗口内时输出低)
        ```
        

#### 六、集成电压比较器 

- **特点**:
    
    - 响应速度快，传输延迟短。
        
    - 一般不需外加限幅电路就可直接驱动数字电路 (如TTL, CMOS)。
        
    - 开环增益通常低于通用运放。
        
    - 失调电压和失调电流可能比通用运放略大。
        
    - 共模抑制比 (CMRR) 可能较低。
        
- **主要性能指标**:
    
    - 供电电源范围。
        
    - 输入电压范围 (共模和差模)。
        
    - 输出电压范围 (高、低电平)。
        
    - 响应时间 (传输延迟时间)。
        
    - 失调电压及其温漂。
        
    - 静态电流。
        
    - 输出驱动电流能力。
        

### 7.2 非正弦波发生电路 (Non-sinusoidal Oscillator)

#### 一、常见的非正弦波 

- **矩形波 (Square/Rectangular Wave)**: 占空比可调。方波是占空比为50%的矩形波。
    
- **三角波 (Triangular Wave)**: 上升和下降斜率大小相等。
    
- **锯齿波 (Sawtooth Wave)**: 上升时间远小于下降时间，或反之。
    
- **尖顶波 (Spike Wave)**
    
- **阶梯波 (Staircase Wave)**
    
- **基础波形**: 矩形波是基础，可通过波形变换得到其它非正弦波。
    

#### 二、方波和矩形波发生电路 

1. **方波发生电路 (基于反相滞回比较器 + RC延迟环节) (Page 38 - 39)**
    
    - **电路组成**:
        
        - 一个反相滞回比较器 (运放A，电阻 R1​,R2​ 构成正反馈，输出经 R4​ 和稳压管 DZ​ 限幅为 ±UZ​)。
            
        - 一个RC充放电回路 (电阻 R3​ 和电容C)。电容C连接在运放的反相输入端 uN​ 和地之间，R3​ 连接在运放输出 uO​ 和反相输入端 uN​ 之间。
            
    - **工作原理**:
        
        - 滞回比较器的阈值电压为 ±UT​=±R1​+R2​R1​​UZ​。
            
        - 假设初始 uO​=+UZ​，则 uP​=+UT​。电容C通过 R3​ 从 −UT​ (前一状态结束点) 向 +UZ​ 充电，uN​=uC​ 电压上升。
            
        - 当 uC​ 上升到 +UT​ 时 (uN​=uP​)，比较器翻转，uO​ 变为 −UZ​。
            
        - 此时 uP​=−UT​。电容C通过 R3​ 从 +UT​ 向 −UZ​ 放电 (或反向充电)，uC​ 电压下降。
            
        - 当 uC​ 下降到 −UT​ 时 (uN​=uP​)，比较器再次翻转，uO​ 变为 +UZ​。
            
        - 周而复始，输出 uO​ 为方波，电容电压 uC​ 为三角波状的指数充放电波形。
            
    - **波形分析 (Page 39)**:
        
        - uO​: 幅值为 ±UZ​ 的方波。
            
        - uC​: 在 −UT​ 和 +UT​ 之间指数充放电。
            
    - **周期分析 (Page 39)**:
        
        - RC电路三要素法: uC​(t)=UC​(∞)+[UC​(0+)−UC​(∞)]e−t/τ  
            
        - 充电半周期 (uO​=+UZ​, uC​ 从 −UT​ 充到 +UT​):
            
            τ=R3​C
            
            +UT​=+UZ​+[−UT​−(+UZ​)]e−T1​/(R3​C)
            
        - 放电半周期 (uO​=−UZ​, uC​ 从 +UT​ 充到 −UT​):
            
            τ=R3​C
            
            −UT​=−UZ​+[+UT​−(−UZ​)]e−T2​/(R3​C)
            
        - 若 R1​,R2​ 对称，则 T1​=T2​=T/2。
            
        - 周期 T=2R3​Cln(1+R2​2R1​​) (当 UZ​≫UT​ 且 R1​=R2​ 时，简化为 T≈2R3​Cln3≈2.2R3​C)
            
        - **调节**:
            
            - 幅值: 由 UZ​ (稳压管)决定。
                
            - 周期: 调节 R3​ 或 C。
                
2. **占空比可调的矩形波发生电路 (Page 41)**
    
    - **原理**: 改变电容充放电回路的时间常数，使充电时间和放电时间不等。
        
    - **电路修改**: 将原先的 R3​ 替换为一个电阻 R3​ 串联一个电位器 RW​，电位器的滑动端通过两个方向相反的二极管 D1​,D2​ 分别连接到电位器的两端。这样在充电和放电时，电流经过的电阻值不同。
        
        - 充电时 (假设 uO​=+UZ​): 电流经 D1​ 和 R3​+RW1​ (电位器一部分)。τ充​≈(R3​+RW1​)C。
            
        - 放电时 (假设 uO​=−UZ​): 电流经 D2​ 和 R3​+RW2​ (电位器另一部分)。τ放​≈(R3​+RW2​)C。
            
        - RW​=RW1​+RW2​。
            
    - **时间**:
        
        - T1​≈τ充​ln(1+R2​2R1​​)  
            
        - T2​≈τ放​ln(1+R2​2R1​​)  
            
    - **周期**: T=T1​+T2​≈(2R3​+RW​)Cln(1+R2​2R1​​) (这里公式假设 RW​ 是总的可变电阻，与图示略有出入，应为 T1​+T2​)
        
    - **占空比** D=TT1​​=2R3​+RW​R3​+RW1​​ (当 RW​ 为电位器总阻值时)
        
    - 通过调节电位器 RW​ 的滑动端，可以改变 RW1​ 和 RW2​ 的比例，从而在周期近似不变的情况下改变占空比。
        

#### 三、三角波和锯齿波发生电路 

1. **三角波发生电路 (Page 42)**
    
    - **组成**: 方波发生电路 + 积分电路。
        
        - **方波发生部分 (**A1​**)**: 与前述类似，产生方波输出 uO1​ (幅值为 ±UZ′​，阈值为 ±UT​)。
            
        - **积分电路部分 (**A2​**)**: 运放 A2​ 和电阻 R′，电容 C′ 构成反相积分器。输入为方波 uO1​，输出为三角波 uO​。
            
        - uO​=−R′C′1​∫uO1​dt  
            
    - **关键**: 积分器的输出 uO​ 同时作为方波发生电路 A1​ 的输入 (通常是反馈到 A1​ 的反相输入端，与 A1​ 内部的电容比较)。
        
    - **另一种常见结构 (图示Page 42)**:
        
        - A1​ 是一个滞回比较器 (输入为 uN​，即积分器输出 uO​)，输出方波 uO1​。
            
        - A2​ 是一个积分器，输入为方波 uO1​，输出三角波 uO​。
            
        - uO​ 反馈到 A1​ 的反相输入端 uN​。
            
        - A1​ 的同相端电压由 R1​,R2​ 对 uO1​ 分压得到，即 uP​=R1​+R2​R1​​uO1​。
            
        - 当 uO​ (即 uN​) 等于 uP​ 时，A1​ 翻转。
            
    - **输出三角波幅值**: UOPP​ (峰峰值) 与方波的幅值 UO1P​ (单峰值) 和周期T (或半周期) 有关。
        
        - 在半个周期 T/2 内，如果 uO1​ 为 +UZ′​，则 uO​ 的变化量 ΔuO​=−R′C′1​(+UZ′​)2T​。
            
        - 三角波的峰峰值 UOPP​=∣ΔuO​∣。
            
    - **特点**: 三角波的幅值会随着方波周期的变化而变化。电路中有两个主要的RC时间常数环节（一个在方波部分，一个在积分部分）。
        

这份总结涵盖了您PDF中关于有源滤波器复习和第七章电压比较器、非正弦波发生电路的主要内容。数学公式已使用LaTeX格式。图表示例和仿真部分也进行了说明。